!function($){$.fn.scrollDrag=function(options){if(0==this.length)return this;if(this.length>1)return this.each(function(i,e){$(e).scrollDrag(options)});var $elem=this.data("scrollDragOptions",{horizontal:null!=options&&!!options.horizontal,vertical:null!=options&&!!options.vertical});return console.log($elem),$elem.on("mousedown",function(e){$elem.trigger("scrolldragstart").data("mousedown",{st:this.scrollTop,sl:this.scrollLeft,x:document.body.scrollLeft+e.clientX,y:document.body.scrollTop+e.clientY}),e.preventDefault()}),$elem.add(window).on("mouseup blur",function(e){console.log(e.type),e.preventDefault(),null!=$elem.data("mousedown")&&$elem.data("mousedown",null).trigger("scrolldragend")}),$(window).on("mousemove",function(e,o){var data=$elem.data("mousedown");if(null!=data){e.preventDefault();var opts=$elem.data("scrollDragOptions");if(opts.horizontal===!0){var x=null!=o&&null!=o.x?o.x:document.body.scrollLeft+e.clientX,movement=data.x-x;console.log(movement),$elem.prop("scrollLeft",data.sl+movement)}if(opts.vertical===!0){var y=null!=o&&null!=o.y?o.y:document.body.scrollTop+e.clientY,movement=data.y-y;console.log(movement),$elem.prop("scrollTop",data.st+movement)}}}),this}}(jQuery);